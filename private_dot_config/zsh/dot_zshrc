
# DOCS https://zsh.sourceforge.io/Doc/Release/Options.html
# DOCS https://zsh.sourceforge.io/Doc/Release/Parameters.html#Parameters-Used-By-The-Shell
#───────────────────────────────────────────────────────────────────────────────

# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

eval "$(sheldon source)"

# array of files to source
ZSH_CONFIG_FILES=(
	"$ZDOTDIR/config/options.zsh"
	"$ZDOTDIR/config/.bash_aliases"
	"$ZDOTDIR/completions/git-extras-completion.zsh"
	"$ZDOTDIR/config/insulter.zsh"
	"$ZDOTDIR/config/keybinds.zsh"
	"$ZDOTDIR/config/completions.zsh"
)

for filename in "${ZSH_CONFIG_FILES[@]}"; do
  if [ -f "$filename" ]; then
        # shellcheck disable=1090
        source "$filename"
    fi
done

# initialise completions with ZSH's compinit
autoload -Uz compinit



if [[ -n ${ZDOTDIR}/.zcompdump(#qN.mh+24) ]]; then
	compinit;
else
	compinit -C;
fi;

_comp_options+=(globdots) # tab complete hidden files

# vi mode
export KEYTIMEOUT=1
export VI_MODE_SET_CURSOR=true
bindkey -v


#source scripts with _evalcache
_evalcache thefuck --alias
_evalcache zoxide init zsh --hook pwd
# Set up fzf key bindings and fuzzy completion
_evalcache fzf --zsh
_evalcache mise activate zsh
_evalcache atuin init zsh

fpath=($fpath "$HOME/.zfunctions")

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ${ZDOTDIR:-~}/.p10k.zsh ]] || source ${ZDOTDIR:-~}/.p10k.zsh


# create some folders if they don't exist
[ -d ~/projects ]  && mkdir ~/projects/ || mkdir ~/projects
[ -d ~/personal ] && mkdir ~/personal/ || mkdir ~/personal
[ -d ~/work ] && mkdir ~/work/ || mkdir ~/work


#Display Pokemon
pokemon-colorscripts --no-title -r 1,3,6

# pnpm
export PNPM_HOME="/home/rubin/.local/share/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end

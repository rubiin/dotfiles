# https://iamscum.wordpress.com/guides/videoplayback-guide/mpv-conf/
# https://kokomins.wordpress.com/2019/10/14/mpv-config-guide/
# PROFILE & MODULARITY
include="~~/profiles.conf"

profile=fast

# ──────────────────────────────────────────────────────────────────────
# Interface - https://mpv.io/manual/stable/#osd
# ──────────────────────────────────────────────────────────────────────
osc=no																	  # turn off for ModernX OSC
osd-bar=no																# removes the default bar when scrubbing or changing volume
osd-duration=2000													# how long osd messages show, in ms
osd-font-size=30
osd-outline-size=2
osd-align-x=right   										  # default right-side (for volume etc.)
osd-align-y=top
osd-border-size=0.5

# ──────────────────────────────────────────────────────────────────────
# Watch Later - https://mpv.io/manual/master/#watch-later
# ──────────────────────────────────────────────────────────────────────
save-position-on-quit=no											  	# save position on quit
watch-later-options=start,sid											# save position and selected subs
cursor-autohide=100                               # hide cursor after 1000ms of inactivity
reset-on-next-file=video-zoom,panscan,video-unscaled,video-rotate,video-align-x,video-align-y,pause

# ──────────────────────────────────────────────────────────────────────
# Window - https://mpv.io/manual/master/#window
# ──────────────────────────────────────────────────────────────────────
title="${filename}"													            # customize as desired
keep-open=yes 														            	# keep mpv open after a video ends
# border=no															              	# optional - if you don't want to see the OS border
title-bar=no															              # optional - if you don't want to see the OS title bar
autofit=75%x75%				    										          # maximum size of the window when it opens - large windows wont fill the screen upon open
reset-on-next-file=video-pan-x,video-pan-y,video-zoom

# ──────────────────────────────────────────────────────────────────────
# Playlist - https://mpv.io/manual/master/#options-prefetch-playlist
# ──────────────────────────────────────────────────────────────────────
prefetch-playlist=yes
directory-mode=ignore
autocreate-playlist=filter
directory-filter-types=video
osd-playlist-entry=filename
image-exts=apng,avif,bmp,heic,j2k,jp2,jpeg,jpg,jxl,png,qoi,svg,tga,tif,tiff,webp
audio-exts=aac,ac3,aiff,ape,au,dsf,dts,flac,m4a,mid,midi,mka,mp3,oga,ogg,ogm,opus,tak,tta,wav,wma
video-exts=3g2,3gp,asf,avi,f4v,flv,h264,h265,gif,m2ts,m4v,mj2,mkv,mov,mp4,mp4v,mpeg,mpg,ogv,rmvb,ts,webm,wmv,y4m

# ──────────────────────────────────────────────────────────────────────
# Video - https://mpv.io/manual/master/#video
# ──────────────────────────────────────────────────────────────────────
# Settings to do with video - essentially whether to utilize the CPU
# or GPU more, you can change api with --gpu-api and enable hardware
# decoding with --hwdec=auto-safe
# ──────────────────────────────────────────────────────────────────────
vo=gpu-next																            # newer rendering pipeline
gpu-api=vulkan
tone-mapping=auto
# profile=fast 														          	# for slow computers
deband=yes

# ──────────────────────────────────────────────────────────────────────
# Audio - https://mpv.io/manual/master/#audio
# ──────────────────────────────────────────────────────────────────────
# Note, the windows setting 'Audio Enhancements' can break downsampling
# for surround tracks, disable that option to fix this problem
# ──────────────────────────────────────────────────────────────────────
volume=100                                                  # Start at 100% (VLC style)
audio-file-auto=fuzzy										      			        # ensure all audio tracks can be loaded
volume-max=150													        	        	# amplify volume above 100
alang=Japanese,ja,jp,jpn,en,eng,english,enUS,en-US,English	# audio language priority
slang=English,english,en,eng,enm,ar,ara							        # subtitle language priority


# ──────────────────────────────────────────────────────────────────────
# Subtitles - https://mpv.io/manual/stable/#subtitles
# ──────────────────────────────────────────────────────────────────────
sub-ass-override=force													# personal preference - this removes custom fonts from subtitles
sub-font="Noto Sans"
sub-auto=fuzzy 													    		# external subs don't have to match the file name to autoload (use fuzzy otherwise)
sub-use-margins=no													  	# whether subtitles can go in black bars areas
sub-font-size=34													      # subtitle size, use instead of sub-scale to avoid breaking some subtitles
sub-color="#FFFFFFFF"                         # White text
sub-border-color="#FF000000"                  # Sub border color
sub-shadow-color="#A0000000"                  # Sub shadow color
sub-border-size=0.5                             # Black outline thickness
sub-shadow-offset=0.5                           # Subtle drop shadow
secondary-sub-pos=6			  											# position the secondary subtitle slightly downwards from the top of the screen, for detectdualsubs.lua
demuxer-mkv-subtitle-preroll=yes                #Forces showing subtitles while seeking through the video
sub-blur=0.0
sub-shadow-offset=0.75
sub-file-paths=.;sub;Sub;subs;Subs;subtitles;Subtitles;srt;Srt;SRT;ass;Ass;ASS

# ──────────────────────────────────────────────────────────────────────
# Terminal - https://mpv.io/manual/stable/#terminal
# ──────────────────────────────────────────────────────────────────────
msg-color=yes                           								# color log messages on terminal
msg-module=yes                          								# prepend module name to log messages

# ──────────────────────────────────────────────────────────────────────
# Screenshot - https://mpv.io/manual/stable/#screenshot
# ──────────────────────────────────────────────────────────────────────

screenshot-format=png
screenshot-png-compression=7 # Setting too high may lag the PC on weaker systems. Recommend 3 (weak systems) or 7.
screenshot-directory=~/Pictures/Screenshots/


